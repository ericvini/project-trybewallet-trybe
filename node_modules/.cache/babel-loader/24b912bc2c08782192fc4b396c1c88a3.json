{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _cloneDeep2 = _interopRequireDefault(require(\"lodash/cloneDeep\"));\n\nvar _isUndefined2 = _interopRequireDefault(require(\"lodash/isUndefined\"));\n\nvar _times2 = _interopRequireDefault(require(\"lodash/times\"));\n\nvar _calculateMaximumColumnWidthIndex = _interopRequireDefault(require(\"./calculateMaximumColumnWidthIndex\"));\n\nvar _getBorderCharacters = _interopRequireDefault(require(\"./getBorderCharacters\"));\n\nvar _validateConfig = _interopRequireDefault(require(\"./validateConfig\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Merges user provided border characters with the default border (\"honeywell\") characters.\n *\n * @param {object} border\n * @returns {object}\n */\n\n\nconst makeBorder = (border = {}) => {\n  return Object.assign({}, (0, _getBorderCharacters.default)('honeywell'), border);\n};\n/**\n * Creates a configuration for every column using default\n * values for the missing configuration properties.\n *\n * @param {Array[]} rows\n * @param {object} columns\n * @param {object} columnDefault\n * @returns {object}\n */\n\n\nconst makeColumns = (rows, columns = {}, columnDefault = {}) => {\n  const maximumColumnWidthIndex = (0, _calculateMaximumColumnWidthIndex.default)(rows);\n  (0, _times2.default)(rows[0].length, index => {\n    if ((0, _isUndefined2.default)(columns[index])) {\n      columns[index] = {};\n    }\n\n    columns[index] = Object.assign({\n      alignment: 'left',\n      paddingLeft: 1,\n      paddingRight: 1,\n      truncate: Infinity,\n      width: maximumColumnWidthIndex[index],\n      wrapWord: false\n    }, columnDefault, columns[index]);\n  });\n  return columns;\n};\n/**\n * Makes a new configuration object out of the userConfig object\n * using default values for the missing configuration properties.\n *\n * @param {Array[]} rows\n * @param {object} userConfig\n * @returns {object}\n */\n\n\nconst makeConfig = (rows, userConfig = {}) => {\n  (0, _validateConfig.default)('config.json', userConfig);\n  const config = (0, _cloneDeep2.default)(userConfig);\n  config.border = makeBorder(config.border);\n  config.columns = makeColumns(rows, config.columns, config.columnDefault);\n\n  if (!config.drawHorizontalLine) {\n    /**\n         * @returns {boolean}\n         */\n    config.drawHorizontalLine = () => {\n      return true;\n    };\n  }\n\n  if (config.singleLine === undefined) {\n    config.singleLine = false;\n  }\n\n  return config;\n};\n\nvar _default = makeConfig;\nexports.default = _default;","map":{"version":3,"sources":["../src/makeConfig.js"],"names":["makeBorder","border","Object","makeColumns","columns","columnDefault","maximumColumnWidthIndex","rows","index","alignment","paddingLeft","paddingRight","truncate","width","wrapWord","userConfig","config"],"mappings":";;;;;;;;;;;;;AACA,IAAA,iCAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,oCAAA,CAAA,CAAA;;AACA,IAAA,oBAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,uBAAA,CAAA,CAAA;;AACA,IAAA,eAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,kBAAA,CAAA,CAAA;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMA,UAAU,GAAG,CAACC,MAAM,GAAP,EAAA,KAAiB;AAClC,SAAOC,MAAM,CAANA,MAAAA,CAAAA,EAAAA,EAAkB,CAAA,GAAA,oBAAA,CAAA,OAAA,EAAlBA,WAAkB,CAAlBA,EAAP,MAAOA,CAAP;AADF,CAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMC,WAAW,GAAG,CAAA,IAAA,EAAOC,OAAO,GAAd,EAAA,EAAqBC,aAAa,GAAlC,EAAA,KAA4C;AAC9D,QAAMC,uBAAuB,GAAG,CAAA,GAAA,iCAAA,CAAA,OAAA,EAAhC,IAAgC,CAAhC;AAEA,GAAA,GAAA,OAAA,CAAA,OAAA,EAAQC,IAAI,CAAJA,CAAI,CAAJA,CAAR,MAAA,EAAyBC,KAAD,IAAW;AACjC,QAAI,CAAA,GAAA,aAAA,CAAA,OAAA,EAAcJ,OAAO,CAAzB,KAAyB,CAArB,CAAJ,EAAmC;AACjCA,MAAAA,OAAO,CAAPA,KAAO,CAAPA,GAAAA,EAAAA;AACD;;AAEDA,IAAAA,OAAO,CAAPA,KAAO,CAAPA,GAAiB,MAAM,CAAN,MAAA,CAAc;AAC7BK,MAAAA,SAAS,EADoB,MAAA;AAE7BC,MAAAA,WAAW,EAFkB,CAAA;AAG7BC,MAAAA,YAAY,EAHiB,CAAA;AAI7BC,MAAAA,QAAQ,EAJqB,QAAA;AAK7BC,MAAAA,KAAK,EAAEP,uBAAuB,CALD,KAKC,CALD;AAM7BQ,MAAAA,QAAQ,EAAE;AANmB,KAAd,EAAA,aAAA,EAOCV,OAAO,CAPzBA,KAOyB,CAPR,CAAjBA;AALF,GAAA;AAeA,SAAA,OAAA;AAlBF,CAAA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;oBACgBG,I,EAAMQ,UAAU,GAAG,E,KAAO;AACxC,GAAA,GAAA,eAAA,CAAA,OAAA,EAAA,aAAA,EAAA,UAAA;AAEA,QAAMC,MAAM,GAAG,CAAA,GAAA,WAAA,CAAA,OAAA,EAAf,UAAe,CAAf;AAEAA,EAAAA,MAAM,CAANA,MAAAA,GAAgBhB,UAAU,CAACgB,MAAM,CAAjCA,MAA0B,CAA1BA;AACAA,EAAAA,MAAM,CAANA,OAAAA,GAAiBb,WAAW,CAAA,IAAA,EAAOa,MAAM,CAAb,OAAA,EAAuBA,MAAM,CAAzDA,aAA4B,CAA5BA;;AAEA,MAAI,CAACA,MAAM,CAAX,kBAAA,EAAgC;AAC9B;AACJ;AACA;AACIA,IAAAA,MAAM,CAANA,kBAAAA,GAA4B,MAAM;AAChC,aAAA,IAAA;AADFA,KAAAA;AAGD;;AAED,MAAIA,MAAM,CAANA,UAAAA,KAAJ,SAAA,EAAqC;AACnCA,IAAAA,MAAM,CAANA,UAAAA,GAAAA,KAAAA;AACD;;AAED,SAAA,MAAA","sourcesContent":["import _ from 'lodash';\nimport calculateMaximumColumnWidthIndex from './calculateMaximumColumnWidthIndex';\nimport getBorderCharacters from './getBorderCharacters';\nimport validateConfig from './validateConfig';\n\n/**\n * Merges user provided border characters with the default border (\"honeywell\") characters.\n *\n * @param {object} border\n * @returns {object}\n */\nconst makeBorder = (border = {}) => {\n  return Object.assign({}, getBorderCharacters('honeywell'), border);\n};\n\n/**\n * Creates a configuration for every column using default\n * values for the missing configuration properties.\n *\n * @param {Array[]} rows\n * @param {object} columns\n * @param {object} columnDefault\n * @returns {object}\n */\nconst makeColumns = (rows, columns = {}, columnDefault = {}) => {\n  const maximumColumnWidthIndex = calculateMaximumColumnWidthIndex(rows);\n\n  _.times(rows[0].length, (index) => {\n    if (_.isUndefined(columns[index])) {\n      columns[index] = {};\n    }\n\n    columns[index] = Object.assign({\n      alignment: 'left',\n      paddingLeft: 1,\n      paddingRight: 1,\n      truncate: Infinity,\n      width: maximumColumnWidthIndex[index],\n      wrapWord: false,\n    }, columnDefault, columns[index]);\n  });\n\n  return columns;\n};\n\n/**\n * Makes a new configuration object out of the userConfig object\n * using default values for the missing configuration properties.\n *\n * @param {Array[]} rows\n * @param {object} userConfig\n * @returns {object}\n */\nexport default (rows, userConfig = {}) => {\n  validateConfig('config.json', userConfig);\n\n  const config = _.cloneDeep(userConfig);\n\n  config.border = makeBorder(config.border);\n  config.columns = makeColumns(rows, config.columns, config.columnDefault);\n\n  if (!config.drawHorizontalLine) {\n    /**\n         * @returns {boolean}\n         */\n    config.drawHorizontalLine = () => {\n      return true;\n    };\n  }\n\n  if (config.singleLine === undefined) {\n    config.singleLine = false;\n  }\n\n  return config;\n};\n"]},"metadata":{},"sourceType":"script"}